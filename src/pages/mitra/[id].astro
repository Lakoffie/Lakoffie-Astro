---
import MainLayout from '../../layouts/MainLayout.astro';
import { daftarMitra } from '../../data/mitra.ts';
import '../../styles/mitra.css';

export async function getStaticPaths() {
  return daftarMitra.map((mitra) => ({
    params: { id: mitra.id },
    props: { mitra },
  }));
}

const { mitra } = Astro.props;
if (!mitra) return Astro.redirect('/404');
---

<MainLayout title={`${mitra.nama} | Mitra Lakoffie`}>
  <section class="detail-mitra">
    <div class="container">
      <div class="breadcrumb">
        <a href="/mitra">â† Kembali ke Daftar Mitra</a>
      </div>

      <div class="detail-grid">
        <div class="detail-image">
          <img src={mitra.image} alt={mitra.nama} />
        </div>

        <div class="detail-info">
          <span class="badge-wilayah" style="position: static;">{mitra.jenis}</span>
          <h1>{mitra.nama}</h1>
          <div class="location-box">
            <p style="color: var(--gold); font-weight: bold; margin-bottom: 10px;">ğŸ“ {mitra.wilayah}, {mitra.kecamatan}</p>
            <p class="alamat" style="min-height: auto;">{mitra.alamat}</p>
          </div>

          <div class="action-buttons">
            <a href={mitra.gmaps} target="_blank" class="btn-primary">Petunjuk Jalan (Maps)</a>
            <a href={`https://wa.me/6285175285640?text=Stok Lakoffie di ${mitra.nama}`} class="btn-secondary">Hubungi Toko</a>
          </div>
        </div>
      </div>
    </div>
  </section>
</MainLayout>
